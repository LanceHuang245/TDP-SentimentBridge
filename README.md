# TDP-SentimentBridge

**The Digital Pulse** çš„æ ¸å¿ƒæ•°æ®æ¥å…¥ä¸åˆ†æå¼•æ“ï¼Œè´Ÿè´£æ‰§è¡Œä»æ•°æ®æºåˆ°æ´å¯Ÿçš„å®Œæ•´ç®¡é“ã€‚é€šè¿‡é›†æˆåŒ–çš„APIè°ƒç”¨ä¸ç½‘ç»œæŠ“å–æŠ€æœ¯ï¼Œå®æ—¶èšåˆæ¥è‡ªXã€å¾®åšç­‰å¤šæºå¼‚æ„å¹³å°çš„çƒ­ç‚¹è®®é¢˜åŠç›¸å…³è¯„è®ºï¼Œé€šè¿‡æ¨¡å—å†…ç½®çš„NLPå¼•æ“å¯¹éç»“æ„åŒ–çš„æ–‡æœ¬æ•°æ®è¿›è¡Œæƒ…æ„Ÿææ€§åˆ†ç±»ï¼Œå°†åŸå§‹ç½‘ç»œè¯è¯­è½¬åŒ–ä¸ºç»“æ„åŒ–çš„ã€å¯é‡åŒ–çš„æƒ…æ„ŸæŒ‡æ ‡ï¼Œä¸ºä¸Šå±‚å¯è§†åŒ–æä¾›æ•°æ®æ”¯æ’‘ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **å¤šå¹³å°æ•°æ®é‡‡é›†**: æ”¯æŒå¾®åšã€Xç­‰ä¸»æµç¤¾äº¤åª’ä½“å¹³å°
- **å®æ—¶çƒ­ç‚¹è¿½è¸ª**: æ¯24å°æ—¶è·å–å®æ—¶çƒ­æœæ¦œå’Œçƒ­é—¨è¯é¢˜è¶‹åŠ¿ï¼Œå¯¹æ¯æ¡çƒ­æœçš„è¯„è®ºåŒºå‰50æ¡è¯„è®ºè¿›è¡Œæƒ…æ„Ÿåˆ†æï¼Œç»¼åˆåˆ†æç»“æœååº”å½“å‰ç¤¾ä¼šèˆ†è®ºçš„ç»¼åˆæƒ…ç»ª
- **æ™ºèƒ½æƒ…æ„Ÿåˆ†æ**: åŸºäºSnowNLPçš„ä¸­æ–‡æƒ…æ„Ÿææ€§åˆ†æã€åŸºäºTextblobçš„è‹±æ–‡æƒ…æ„Ÿææ€§åˆ†æ
- **RESTful API**: æ ‡å‡†åŒ–çš„APIæ¥å£ï¼Œæ˜“äºé›†æˆå’Œä½¿ç”¨

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.13+
- pip åŒ…ç®¡ç†å™¨

### å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### åŸºç¡€é…ç½®

1. å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼š
```bash
cp config/config.example.json config/config.json
```

2. é…ç½®å¹³å°è®¤è¯ä¿¡æ¯ï¼ˆè¯¦è§é…ç½®è¯´æ˜ï¼‰

### è¿è¡ŒæœåŠ¡

```bash
python main.py
```

æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨

## API æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8000/api/v1`
- **è®¤è¯æ–¹å¼**: Bearer Token (API Key)
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

### æ ¸å¿ƒæ¥å£

#### 1. è·å–å¾®åšçƒ­æœæ¦œ
```bash
GET /api/v1/trends/weibo
```

#### 2. è·å–Xçƒ­æœæ¦œ
```bash
GET /api/v1/trends/x
```

#### 3. è·å–èˆ†è®ºæƒ…ç»ªåˆ†æ
```bash
POST /api/v1/sentiment/analyze
```

## é¡¹ç›®æ¶æ„

```
TDP-SentimentBridge/
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ main.py                     # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ config.example.json     # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”‚   â””â”€â”€ config.json            # å®é™…é…ç½®æ–‡ä»¶ï¼ˆéœ€è‡ªè¡Œåˆ›å»ºï¼‰
â”œâ”€â”€ src/                        # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api/                   # APIæ¥å£æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ app.py            # Flaskåº”ç”¨å’Œè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.py           # è®¤è¯ç›¸å…³åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ middleware.py     # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ collectors/           # æ•°æ®é‡‡é›†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py          # é‡‡é›†å™¨åŸºç±»
â”‚   â”‚   â”œâ”€â”€ weibo.py         # å¾®åšæ•°æ®é‡‡é›†å™¨
â”‚   â”‚   â””â”€â”€ twitter.py       # Twitteræ•°æ®é‡‡é›†å™¨
â”‚   â”œâ”€â”€ analyzers/           # åˆ†ææ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ sentiment.py     # æƒ…æ„Ÿåˆ†æå™¨
â”‚   â”‚   â””â”€â”€ statistics.py    # ç»Ÿè®¡åˆ†æå™¨
â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ trend.py        # çƒ­ç‚¹è¯é¢˜æ¨¡å‹
â”‚   â”‚   â””â”€â”€ comment.py      # è¯„è®ºæ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ utils/              # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ http.py         # HTTPè¯·æ±‚å·¥å…·
â”‚       â””â”€â”€ text.py         # æ–‡æœ¬å¤„ç†å·¥å…·
â””â”€â”€ docs/                   # æ–‡æ¡£ç›®å½•
    â”œâ”€â”€ API_Documentation.md # è¯¦ç»†APIæ–‡æ¡£
    â””â”€â”€ Configuration.md     # é…ç½®è¯´æ˜æ–‡æ¡£
```

## é…ç½®è¯´æ˜

### ä¸»è¦é…ç½®é¡¹

```json
{
  "server": {
    "host": "localhost",
    "port": 8000,
    "debug": false
  },
  "platforms": {
    "weibo": {
      "enabled": true,
      "cookie": "your_weibo_cookie",
      "user_agent": "Mozilla/5.0..."
    },
    "x": {
      "enabled": false,
      "api_key": "your_x_api_key",
      "api_secret": "your_x_api_secret"
    }
  },
  "sentiment": {
    "threshold_positive": 0.65,
    "threshold_negative": 0.35
  },
  "limits": {
    "requests_per_minute": 1000,
    "max_comments_per_request": 1000,
    "max_batch_size": 500
  }
}
```

### ç¯å¢ƒå˜é‡

- `TDP_ENV`: è¿è¡Œç¯å¢ƒ (development/production)
- `TDP_LOG_LEVEL`: æ—¥å¿—çº§åˆ« (DEBUG/INFO/WARNING/ERROR)
- `TDP_DB_PATH`: æ•°æ®åº“æ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰


## è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª PEP 8 Python ä»£ç è§„èŒƒ
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## æ”¯æŒä¸åé¦ˆ

- **é—®é¢˜æŠ¥å‘Šã€æŠ€æœ¯å»ºè®®**: [GitHub Issues](https://github.com/LanceHuang245/TDP-SentimentBridge/issues)
